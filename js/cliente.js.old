// client.js
const socket = io('http://127.0.0.1:8080');

function joinLobby(codigoLobby) {
    socket.emit('join', codigoLobby);
}

function createLobby() {
    socket.emit('create');
}

socket.on('lobbyCreated', (lobbyCode) => {
    window.location.href = `quiplash.html?code=${lobbyCode}`; // Cambia a la lógica que necesites
    document.getElementById('lobby-code').innerText = `Código de sala: ${lobbyCode}`;
});

socket.on('updatePlayers', (players) => {
    players.forEach((player) => {
        const padre = document.getElementsByClassName("palo")[player.index];
        const icono = padre.children[0];
        icono.style.opacity = "1";
        icono.children[0].innerText = player.name;
        icono.style.animationPlayState = "running";
    });
});

socket.on('joinError', (message) => {
    alert(message);
});
